<!-- mock server responses -->
<script src="../../../sinonjs/sinon.js"></script>
<script src="../../demo/mockServer.js"></script>
<script>
    window.operationObject = function(op, path, value) {
        var o = {
            op: op,
            path: path
        };
        if (arguments.length > 2) {
            o.value = value;
        }
        return o;
    }
    window.puppetChange = function(puppet, sequence) {
        puppet.validateAndApplySequence(puppet.obj, sequence);
    }
    window.domBindFixture = function(id, done, where){
        var fixture = document.getElementById(id).content;
        var templ = document.importNode(fixture, true);
        var domBind = templ.querySelector('[is="dom-bind"]');
        domBind.addEventListener('dom-change', function() {
            setTimeout(function(){
                done();
            });
        });
        (where || document.body).appendChild(domBind);
        return domBind;
    }
</script>
